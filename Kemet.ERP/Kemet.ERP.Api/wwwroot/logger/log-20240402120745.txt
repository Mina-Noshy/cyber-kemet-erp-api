{"Timestamp":"2024-04-02T12:07:56.4564883+02:00","Level":"Information","MessageTemplate":"Starting web host"}
{"Timestamp":"2024-04-02T12:08:05.4679568+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-02T12:08:05.4801136+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-02T12:08:05.4813723+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-02T12:09:00.6819146+02:00","Level":"Warning","MessageTemplate":"Invalid api-key value, Please add it and try again","TraceId":"c9186fac0790d0d59485bfcb70ac3baf","SpanId":"81e02128455ae7df"}
{"Timestamp":"2024-04-02T12:09:00.7100253+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c9186fac0790d0d59485bfcb70ac3baf","SpanId":"81e02128455ae7df","Properties":{"RequestMethod":"POST","RequestPath":"/api/identity/auth/get-token","StatusCode":401,"Elapsed":3605.0612,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3605.0612"}]}}
{"Timestamp":"2024-04-02T12:09:19.5806949+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caa4dfd6f04afec01a052cfccf8e5540","SpanId":"8a3ae36f2c4c6aa6","Properties":{"elapsed":"187","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8d4992e-ebdd-4c7e-b7ea-dc8e23d53efe","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"80000047-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T12:09:19.9356294+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caa4dfd6f04afec01a052cfccf8e5540","SpanId":"8a3ae36f2c4c6aa6","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Name]\r\nFROM [UserRoleMaster] AS [u]\r\nINNER JOIN [RoleMaster] AS [r] ON [u].[RoleId] = [r].[Id]\r\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8d4992e-ebdd-4c7e-b7ea-dc8e23d53efe","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"80000047-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T12:09:20.7523194+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caa4dfd6f04afec01a052cfccf8e5540","SpanId":"8a3ae36f2c4c6aa6","Properties":{"elapsed":"80","parameters":"@p5='?' (DbType = Int64), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p11='?' (DbType = Int64), @p6='?' (Size = 450), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p17='?' (DbType = Int64), @p12='?' (Size = 450), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p23='?' (DbType = Int64), @p18='?' (Size = 450), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p29='?' (DbType = Int64), @p24='?' (Size = 450), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p35='?' (DbType = Int64), @p30='?' (Size = 450), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 4000), @p41='?' (DbType = Int64), @p36='?' (Size = 450), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = DateTime2), @p40='?' (Size = 4000), @p47='?' (DbType = Int64), @p42='?' (Size = 450), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = DateTime2), @p46='?' (Size = 4000), @p53='?' (DbType = Int64), @p48='?' (Size = 450), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = DateTime2), @p52='?' (Size = 4000), @p59='?' (DbType = Int64), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (Size = 4000), @p65='?' (DbType = Int64), @p60='?' (Size = 450), @p61='?' (DbType = DateTime2), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime2), @p64='?' (Size = 4000), @p71='?' (DbType = Int64), @p66='?' (Size = 450), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = DateTime2), @p70='?' (Size = 4000), @p77='?' (DbType = Int64), @p72='?' (Size = 450), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = DateTime2), @p76='?' (Size = 4000), @p78='?' (Size = 450), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (DbType = DateTime2), @p82='?' (Size = 4000), @p99='?' (Size = 450), @p83='?' (DbType = Int32), @p84='?' (Size = 4000), @p100='?' (Size = 4000), @p85='?' (Size = 256), @p86='?' (DbType = Boolean), @p87='?' (Size = 50), @p88='?' (Size = 50), @p89='?' (DbType = Boolean), @p90='?' (DbType = DateTimeOffset), @p91='?' (Size = 256), @p92='?' (Size = 256), @p93='?' (Size = 4000), @p94='?' (Size = 4000), @p95='?' (DbType = Boolean), @p96='?' (Size = 4000), @p97='?' (DbType = Boolean), @p98='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p0, [CreatedOn] = @p1, [ExpiresOn] = @p2, [RevokedOn] = @p3, [Token] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p6, [CreatedOn] = @p7, [ExpiresOn] = @p8, [RevokedOn] = @p9, [Token] = @p10\r\nOUTPUT 1\r\nWHERE [Id] = @p11;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p12, [CreatedOn] = @p13, [ExpiresOn] = @p14, [RevokedOn] = @p15, [Token] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p18, [CreatedOn] = @p19, [ExpiresOn] = @p20, [RevokedOn] = @p21, [Token] = @p22\r\nOUTPUT 1\r\nWHERE [Id] = @p23;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p24, [CreatedOn] = @p25, [ExpiresOn] = @p26, [RevokedOn] = @p27, [Token] = @p28\r\nOUTPUT 1\r\nWHERE [Id] = @p29;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p30, [CreatedOn] = @p31, [ExpiresOn] = @p32, [RevokedOn] = @p33, [Token] = @p34\r\nOUTPUT 1\r\nWHERE [Id] = @p35;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p36, [CreatedOn] = @p37, [ExpiresOn] = @p38, [RevokedOn] = @p39, [Token] = @p40\r\nOUTPUT 1\r\nWHERE [Id] = @p41;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p42, [CreatedOn] = @p43, [ExpiresOn] = @p44, [RevokedOn] = @p45, [Token] = @p46\r\nOUTPUT 1\r\nWHERE [Id] = @p47;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p48, [CreatedOn] = @p49, [ExpiresOn] = @p50, [RevokedOn] = @p51, [Token] = @p52\r\nOUTPUT 1\r\nWHERE [Id] = @p53;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p54, [CreatedOn] = @p55, [ExpiresOn] = @p56, [RevokedOn] = @p57, [Token] = @p58\r\nOUTPUT 1\r\nWHERE [Id] = @p59;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p60, [CreatedOn] = @p61, [ExpiresOn] = @p62, [RevokedOn] = @p63, [Token] = @p64\r\nOUTPUT 1\r\nWHERE [Id] = @p65;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p66, [CreatedOn] = @p67, [ExpiresOn] = @p68, [RevokedOn] = @p69, [Token] = @p70\r\nOUTPUT 1\r\nWHERE [Id] = @p71;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p72, [CreatedOn] = @p73, [ExpiresOn] = @p74, [RevokedOn] = @p75, [Token] = @p76\r\nOUTPUT 1\r\nWHERE [Id] = @p77;\r\nINSERT INTO [RefreshToken] ([AppUserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p78, @p79, @p80, @p81, @p82);\r\nUPDATE [UserMaster] SET [AccessFailedCount] = @p83, [ConcurrencyStamp] = @p84, [Email] = @p85, [EmailConfirmed] = @p86, [FirstName] = @p87, [LastName] = @p88, [LockoutEnabled] = @p89, [LockoutEnd] = @p90, [NormalizedEmail] = @p91, [NormalizedUserName] = @p92, [PasswordHash] = @p93, [PhoneNumber] = @p94, [PhoneNumberConfirmed] = @p95, [SecurityStamp] = @p96, [TwoFactorEnabled] = @p97, [UserName] = @p98\r\nOUTPUT 1\r\nWHERE [Id] = @p99 AND [ConcurrencyStamp] = @p100;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8d4992e-ebdd-4c7e-b7ea-dc8e23d53efe","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"80000047-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T12:09:20.8639582+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"caa4dfd6f04afec01a052cfccf8e5540","SpanId":"8a3ae36f2c4c6aa6","Properties":{"RequestMethod":"POST","RequestPath":"/api/identity/auth/get-token","StatusCode":200,"Elapsed":4933.5558,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4933.5558"}]}}
{"Timestamp":"2024-04-02T12:09:35.3586309+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4724b725aadd2a5ef606ab6111ff38db","SpanId":"82dc4894fc2c54f9","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries","StatusCode":401,"Elapsed":27.1935,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.1935"}]}}
{"Timestamp":"2024-04-02T12:09:45.6265912+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c6c8d1a09da33261c62849531342126","SpanId":"de42c58b540d15f5","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[ArName], [c].[EnName], [c].[PhoneCode], [c].[ShortName]\r\nFROM [CountryMaster] AS [c]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"90e3bced-c32b-41dd-96da-f537cb7aecd9","ActionName":"Kemet.ERP.Presentation.Controllers.Common.CountriesController.GetAllAsync (Kemet.ERP.Presentation)","RequestId":"8000002b-0002-ff00-b63f-84710c7967bb","RequestPath":"/api/common/countries"}}
{"Timestamp":"2024-04-02T12:09:45.9554650+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2c6c8d1a09da33261c62849531342126","SpanId":"de42c58b540d15f5","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries","StatusCode":200,"Elapsed":836.0328,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"836.0328"}]}}
{"Timestamp":"2024-04-02T12:09:46.7383869+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ff16391374c2cd5d41c6e76834926a95","SpanId":"a17080bc944c9a8a","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries","StatusCode":200,"Elapsed":11.5738,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.5738"}]}}
