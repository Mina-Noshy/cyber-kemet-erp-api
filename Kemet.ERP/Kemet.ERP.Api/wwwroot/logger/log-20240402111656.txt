{"Timestamp":"2024-04-02T11:17:11.5297240+02:00","Level":"Information","MessageTemplate":"Starting web host"}
{"Timestamp":"2024-04-02T11:17:26.6933149+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-02T11:17:26.7151439+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-02T11:17:26.7184932+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-02T11:18:55.4496266+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a43b0a98a4a899d56f620180449e925","SpanId":"88e8390a754b59d1","Properties":{"elapsed":"52","parameters":"","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[ArName], [c].[EnName], [c].[PhoneCode], [c].[ShortName]\r\nFROM [CountryMaster] AS [c]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"17e2a3a0-c909-4aa2-bf84-10ea9df72f3b","ActionName":"Kemet.ERP.Presentation.Controllers.Common.CountriesController.GetAllAsync (Kemet.ERP.Presentation)","RequestId":"8000004b-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/common/countries"}}
{"Timestamp":"2024-04-02T11:18:55.9657807+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2a43b0a98a4a899d56f620180449e925","SpanId":"88e8390a754b59d1","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries","StatusCode":200,"Elapsed":8116.0893,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8116.0893"}]}}
{"Timestamp":"2024-04-02T11:19:03.9669039+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0412b6ae25f87ad8fc1d0993c8ce4dc2","SpanId":"7e9c1a96f483864c","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries","StatusCode":200,"Elapsed":51.183,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.1830"}]}}
{"Timestamp":"2024-04-02T11:19:04.6890154+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f5ab72650a2191f9b6035e7c218e8bc8","SpanId":"12e9ee4986455c1b","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries","StatusCode":200,"Elapsed":145.9141,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"145.9141"}]}}
{"Timestamp":"2024-04-02T11:19:05.1693392+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba8f815093bb21c7cd27dc91011ffe7f","SpanId":"6b76d884c98f023c","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries","StatusCode":200,"Elapsed":3.715,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.7150"}]}}
{"Timestamp":"2024-04-02T11:19:15.5775446+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"776c8ed2a42bc98dcd8fad111f1a977b","SpanId":"45d263746fdc212c","Properties":{"elapsed":"47","parameters":"@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [CountryMaster] ([ArName], [EnName], [PhoneCode], [ShortName])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"94267736-b1ad-452d-a59e-da3cce8c96e8","ActionName":"Kemet.ERP.Presentation.Controllers.Common.CountriesController.CreateAsync (Kemet.ERP.Presentation)","RequestId":"80000035-0003-fb00-b63f-84710c7967bb","RequestPath":"/api/common/countries"}}
{"Timestamp":"2024-04-02T11:19:15.6446730+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"776c8ed2a42bc98dcd8fad111f1a977b","SpanId":"45d263746fdc212c","Properties":{"RequestMethod":"POST","RequestPath":"/api/common/countries","StatusCode":200,"Elapsed":592.8629,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"592.8629"}]}}
{"Timestamp":"2024-04-02T11:19:25.4190375+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe85e02c2c01885d5c8dc910f4d640f9","SpanId":"ca0da36c9a4529f2","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT TOP(1) [c].[Id], [c].[ArName], [c].[EnName], [c].[PhoneCode], [c].[ShortName]\r\nFROM [CountryMaster] AS [c]\r\nWHERE [c].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ddbf04ac-f2fa-4ac7-967b-ad37c94233e2","ActionName":"Kemet.ERP.Presentation.Controllers.Common.CountriesController.GetByIdAsync (Kemet.ERP.Presentation)","RequestId":"80000037-0003-fb00-b63f-84710c7967bb","RequestPath":"/api/common/countries/1"}}
{"Timestamp":"2024-04-02T11:19:25.4369116+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fe85e02c2c01885d5c8dc910f4d640f9","SpanId":"ca0da36c9a4529f2","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries/1","StatusCode":200,"Elapsed":266.2114,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"266.2114"}]}}
{"Timestamp":"2024-04-02T11:19:29.6854215+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3391cf0fd372b8920d8b9c4289c793f6","SpanId":"9a6d5f42b0d54e61","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT TOP(1) [c].[Id], [c].[ArName], [c].[EnName], [c].[PhoneCode], [c].[ShortName]\r\nFROM [CountryMaster] AS [c]\r\nWHERE [c].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ddbf04ac-f2fa-4ac7-967b-ad37c94233e2","ActionName":"Kemet.ERP.Presentation.Controllers.Common.CountriesController.GetByIdAsync (Kemet.ERP.Presentation)","RequestId":"80000029-0001-ff00-b63f-84710c7967bb","RequestPath":"/api/common/countries/2"}}
{"Timestamp":"2024-04-02T11:19:29.6887850+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3391cf0fd372b8920d8b9c4289c793f6","SpanId":"9a6d5f42b0d54e61","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/countries/2","StatusCode":200,"Elapsed":19.6048,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6048"}]}}
{"Timestamp":"2024-04-02T11:23:32.1422093+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"94f8388d3cc29503bf1e9598fe140f25","SpanId":"1c37f374e490c1d3","Properties":{"elapsed":"14","parameters":"","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[ArName], [r].[CountryId], [r].[EnName]\r\nFROM [RegionMaster] AS [r]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"05a5dbc8-5df0-4654-87c9-409257e63c1b","ActionName":"Kemet.ERP.Presentation.Controllers.Common.RegionsController.GetAllAsync (Kemet.ERP.Presentation)","RequestId":"8000005a-0001-fd00-b63f-84710c7967bb","RequestPath":"/api/common/regions"}}
{"Timestamp":"2024-04-02T11:23:32.1735772+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"94f8388d3cc29503bf1e9598fe140f25","SpanId":"1c37f374e490c1d3","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/regions","StatusCode":200,"Elapsed":71.069,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"71.0690"}]}}
{"Timestamp":"2024-04-02T11:23:41.9828591+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c9a6433a52ade973c066e2dd6df552c","SpanId":"e2fa43cf83d311a5","Properties":{"elapsed":"4","parameters":"@__countryId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[ArName], [r].[CountryId], [r].[EnName]\r\nFROM [RegionMaster] AS [r]\r\nWHERE [r].[CountryId] = @__countryId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"25793836-071d-472a-af65-731e8f45527c","ActionName":"Kemet.ERP.Presentation.Controllers.Common.RegionsController.GetAllByCountryIdAsync (Kemet.ERP.Presentation)","RequestId":"8000005c-0001-fd00-b63f-84710c7967bb","RequestPath":"/api/common/regions/by-country/1"}}
{"Timestamp":"2024-04-02T11:23:41.9856017+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1c9a6433a52ade973c066e2dd6df552c","SpanId":"e2fa43cf83d311a5","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/regions/by-country/1","StatusCode":200,"Elapsed":41.6084,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.6084"}]}}
{"Timestamp":"2024-04-02T11:24:14.7365231+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01d63185fe1e753a6702f2ef93a090da","SpanId":"4b0fc4ff6885dc9d","Properties":{"elapsed":"5","parameters":"@p0='?' (Size = 4000), @p1='?' (DbType = Int64), @p2='?' (Size = 4000)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RegionMaster] ([ArName], [CountryId], [EnName])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3ac113e-9528-4cce-b0bb-cf3c11a9646e","ActionName":"Kemet.ERP.Presentation.Controllers.Common.RegionsController.CreateAsync (Kemet.ERP.Presentation)","RequestId":"80000018-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/common/regions"}}
{"Timestamp":"2024-04-02T11:24:14.7456308+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"01d63185fe1e753a6702f2ef93a090da","SpanId":"4b0fc4ff6885dc9d","Properties":{"RequestMethod":"POST","RequestPath":"/api/common/regions","StatusCode":200,"Elapsed":102.4208,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"102.4208"}]}}
{"Timestamp":"2024-04-02T11:24:17.5655136+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"778f5dbd7964a7045ad1669c50884aaa","SpanId":"924cf5c1afe1b37f","Properties":{"elapsed":"3","parameters":"@p0='?' (Size = 4000), @p1='?' (DbType = Int64), @p2='?' (Size = 4000)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RegionMaster] ([ArName], [CountryId], [EnName])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3ac113e-9528-4cce-b0bb-cf3c11a9646e","ActionName":"Kemet.ERP.Presentation.Controllers.Common.RegionsController.CreateAsync (Kemet.ERP.Presentation)","RequestId":"8000003e-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/common/regions"}}
{"Timestamp":"2024-04-02T11:24:17.6140921+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"778f5dbd7964a7045ad1669c50884aaa","SpanId":"924cf5c1afe1b37f","Properties":{"RequestMethod":"POST","RequestPath":"/api/common/regions","StatusCode":200,"Elapsed":58.9416,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"58.9416"}]}}
{"Timestamp":"2024-04-02T11:24:31.2340140+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ec4732d57e3849457ab404225516131","SpanId":"0194bfc0bfb28c75","Properties":{"elapsed":"5","parameters":"@__countryId_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[ArName], [r].[CountryId], [r].[EnName]\r\nFROM [RegionMaster] AS [r]\r\nWHERE [r].[CountryId] = @__countryId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"25793836-071d-472a-af65-731e8f45527c","ActionName":"Kemet.ERP.Presentation.Controllers.Common.RegionsController.GetAllByCountryIdAsync (Kemet.ERP.Presentation)","RequestId":"8000001a-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/common/regions/by-country/1"}}
{"Timestamp":"2024-04-02T11:24:31.2364912+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7ec4732d57e3849457ab404225516131","SpanId":"0194bfc0bfb28c75","Properties":{"RequestMethod":"GET","RequestPath":"/api/common/regions/by-country/1","StatusCode":200,"Elapsed":10.8076,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.8076"}]}}
{"Timestamp":"2024-04-02T11:24:51.6029024+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aebae163a5a734bcfd5c2654a08df0c1","SpanId":"da936b26911ad8e7","Properties":{"elapsed":"14","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f31ec3-e89e-4fa8-87c5-c1e5fd475514","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000003a-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T11:24:51.8764541+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aebae163a5a734bcfd5c2654a08df0c1","SpanId":"da936b26911ad8e7","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Name]\r\nFROM [UserRoleMaster] AS [u]\r\nINNER JOIN [RoleMaster] AS [r] ON [u].[RoleId] = [r].[Id]\r\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f31ec3-e89e-4fa8-87c5-c1e5fd475514","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000003a-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T11:24:52.2536319+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aebae163a5a734bcfd5c2654a08df0c1","SpanId":"da936b26911ad8e7","Properties":{"elapsed":"48","parameters":"@p5='?' (DbType = Int64), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p11='?' (DbType = Int64), @p6='?' (Size = 450), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p17='?' (DbType = Int64), @p12='?' (Size = 450), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p23='?' (DbType = Int64), @p18='?' (Size = 450), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p29='?' (DbType = Int64), @p24='?' (Size = 450), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p35='?' (DbType = Int64), @p30='?' (Size = 450), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 4000), @p41='?' (DbType = Int64), @p36='?' (Size = 450), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = DateTime2), @p40='?' (Size = 4000), @p47='?' (DbType = Int64), @p42='?' (Size = 450), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = DateTime2), @p46='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = DateTime2), @p52='?' (Size = 4000), @p69='?' (Size = 450), @p53='?' (DbType = Int32), @p54='?' (Size = 4000), @p70='?' (Size = 4000), @p55='?' (Size = 256), @p56='?' (DbType = Boolean), @p57='?' (Size = 50), @p58='?' (Size = 50), @p59='?' (DbType = Boolean), @p60='?' (DbType = DateTimeOffset), @p61='?' (Size = 256), @p62='?' (Size = 256), @p63='?' (Size = 4000), @p64='?' (Size = 4000), @p65='?' (DbType = Boolean), @p66='?' (Size = 4000), @p67='?' (DbType = Boolean), @p68='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p0, [CreatedOn] = @p1, [ExpiresOn] = @p2, [RevokedOn] = @p3, [Token] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p6, [CreatedOn] = @p7, [ExpiresOn] = @p8, [RevokedOn] = @p9, [Token] = @p10\r\nOUTPUT 1\r\nWHERE [Id] = @p11;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p12, [CreatedOn] = @p13, [ExpiresOn] = @p14, [RevokedOn] = @p15, [Token] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p18, [CreatedOn] = @p19, [ExpiresOn] = @p20, [RevokedOn] = @p21, [Token] = @p22\r\nOUTPUT 1\r\nWHERE [Id] = @p23;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p24, [CreatedOn] = @p25, [ExpiresOn] = @p26, [RevokedOn] = @p27, [Token] = @p28\r\nOUTPUT 1\r\nWHERE [Id] = @p29;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p30, [CreatedOn] = @p31, [ExpiresOn] = @p32, [RevokedOn] = @p33, [Token] = @p34\r\nOUTPUT 1\r\nWHERE [Id] = @p35;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p36, [CreatedOn] = @p37, [ExpiresOn] = @p38, [RevokedOn] = @p39, [Token] = @p40\r\nOUTPUT 1\r\nWHERE [Id] = @p41;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p42, [CreatedOn] = @p43, [ExpiresOn] = @p44, [RevokedOn] = @p45, [Token] = @p46\r\nOUTPUT 1\r\nWHERE [Id] = @p47;\r\nINSERT INTO [RefreshToken] ([AppUserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p48, @p49, @p50, @p51, @p52);\r\nUPDATE [UserMaster] SET [AccessFailedCount] = @p53, [ConcurrencyStamp] = @p54, [Email] = @p55, [EmailConfirmed] = @p56, [FirstName] = @p57, [LastName] = @p58, [LockoutEnabled] = @p59, [LockoutEnd] = @p60, [NormalizedEmail] = @p61, [NormalizedUserName] = @p62, [PasswordHash] = @p63, [PhoneNumber] = @p64, [PhoneNumberConfirmed] = @p65, [SecurityStamp] = @p66, [TwoFactorEnabled] = @p67, [UserName] = @p68\r\nOUTPUT 1\r\nWHERE [Id] = @p69 AND [ConcurrencyStamp] = @p70;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f31ec3-e89e-4fa8-87c5-c1e5fd475514","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000003a-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T11:24:52.3031030+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aebae163a5a734bcfd5c2654a08df0c1","SpanId":"da936b26911ad8e7","Properties":{"RequestMethod":"POST","RequestPath":"/api/identity/auth/get-token","StatusCode":200,"Elapsed":1014.4632,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1014.4632"}]}}
{"Timestamp":"2024-04-02T11:24:55.6590811+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caebda76489af1c5fee0d8bbd23c976f","SpanId":"f63dcd1a7e91d316","Properties":{"elapsed":"5","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f31ec3-e89e-4fa8-87c5-c1e5fd475514","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000005e-0001-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T11:24:55.8355756+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caebda76489af1c5fee0d8bbd23c976f","SpanId":"f63dcd1a7e91d316","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Name]\r\nFROM [UserRoleMaster] AS [u]\r\nINNER JOIN [RoleMaster] AS [r] ON [u].[RoleId] = [r].[Id]\r\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f31ec3-e89e-4fa8-87c5-c1e5fd475514","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000005e-0001-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T11:24:55.8855383+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caebda76489af1c5fee0d8bbd23c976f","SpanId":"f63dcd1a7e91d316","Properties":{"elapsed":"43","parameters":"@p5='?' (DbType = Int64), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p11='?' (DbType = Int64), @p6='?' (Size = 450), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p17='?' (DbType = Int64), @p12='?' (Size = 450), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p23='?' (DbType = Int64), @p18='?' (Size = 450), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p29='?' (DbType = Int64), @p24='?' (Size = 450), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p35='?' (DbType = Int64), @p30='?' (Size = 450), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 4000), @p41='?' (DbType = Int64), @p36='?' (Size = 450), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = DateTime2), @p40='?' (Size = 4000), @p47='?' (DbType = Int64), @p42='?' (Size = 450), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = DateTime2), @p46='?' (Size = 4000), @p53='?' (DbType = Int64), @p48='?' (Size = 450), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = DateTime2), @p52='?' (Size = 4000), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (Size = 4000), @p75='?' (Size = 450), @p59='?' (DbType = Int32), @p60='?' (Size = 4000), @p76='?' (Size = 4000), @p61='?' (Size = 256), @p62='?' (DbType = Boolean), @p63='?' (Size = 50), @p64='?' (Size = 50), @p65='?' (DbType = Boolean), @p66='?' (DbType = DateTimeOffset), @p67='?' (Size = 256), @p68='?' (Size = 256), @p69='?' (Size = 4000), @p70='?' (Size = 4000), @p71='?' (DbType = Boolean), @p72='?' (Size = 4000), @p73='?' (DbType = Boolean), @p74='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p0, [CreatedOn] = @p1, [ExpiresOn] = @p2, [RevokedOn] = @p3, [Token] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p6, [CreatedOn] = @p7, [ExpiresOn] = @p8, [RevokedOn] = @p9, [Token] = @p10\r\nOUTPUT 1\r\nWHERE [Id] = @p11;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p12, [CreatedOn] = @p13, [ExpiresOn] = @p14, [RevokedOn] = @p15, [Token] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p18, [CreatedOn] = @p19, [ExpiresOn] = @p20, [RevokedOn] = @p21, [Token] = @p22\r\nOUTPUT 1\r\nWHERE [Id] = @p23;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p24, [CreatedOn] = @p25, [ExpiresOn] = @p26, [RevokedOn] = @p27, [Token] = @p28\r\nOUTPUT 1\r\nWHERE [Id] = @p29;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p30, [CreatedOn] = @p31, [ExpiresOn] = @p32, [RevokedOn] = @p33, [Token] = @p34\r\nOUTPUT 1\r\nWHERE [Id] = @p35;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p36, [CreatedOn] = @p37, [ExpiresOn] = @p38, [RevokedOn] = @p39, [Token] = @p40\r\nOUTPUT 1\r\nWHERE [Id] = @p41;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p42, [CreatedOn] = @p43, [ExpiresOn] = @p44, [RevokedOn] = @p45, [Token] = @p46\r\nOUTPUT 1\r\nWHERE [Id] = @p47;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p48, [CreatedOn] = @p49, [ExpiresOn] = @p50, [RevokedOn] = @p51, [Token] = @p52\r\nOUTPUT 1\r\nWHERE [Id] = @p53;\r\nINSERT INTO [RefreshToken] ([AppUserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p54, @p55, @p56, @p57, @p58);\r\nUPDATE [UserMaster] SET [AccessFailedCount] = @p59, [ConcurrencyStamp] = @p60, [Email] = @p61, [EmailConfirmed] = @p62, [FirstName] = @p63, [LastName] = @p64, [LockoutEnabled] = @p65, [LockoutEnd] = @p66, [NormalizedEmail] = @p67, [NormalizedUserName] = @p68, [PasswordHash] = @p69, [PhoneNumber] = @p70, [PhoneNumberConfirmed] = @p71, [SecurityStamp] = @p72, [TwoFactorEnabled] = @p73, [UserName] = @p74\r\nOUTPUT 1\r\nWHERE [Id] = @p75 AND [ConcurrencyStamp] = @p76;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99f31ec3-e89e-4fa8-87c5-c1e5fd475514","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000005e-0001-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/get-token"}}
{"Timestamp":"2024-04-02T11:24:55.8894524+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"caebda76489af1c5fee0d8bbd23c976f","SpanId":"f63dcd1a7e91d316","Properties":{"RequestMethod":"POST","RequestPath":"/api/identity/auth/get-token","StatusCode":200,"Elapsed":251.865,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"251.8650"}]}}
{"Timestamp":"2024-04-02T11:25:27.4818035+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64d955873950ed6b70c11026f6e86a61","SpanId":"018e161978d92016","Properties":{"elapsed":"13","parameters":"@__token_0='?' (Size = 4000)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r0].[Id], [r0].[AppUserId], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\nFROM (\r\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [RefreshToken] AS [r]\r\n        WHERE [u].[Id] = [r].[AppUserId] AND [r].[Token] = @__token_0)\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r0] ON [t].[Id] = [r0].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"61e942b2-a468-4cf8-b373-77bf8c450c8e","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.RefreshTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000003c-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/refresh-token"}}
{"Timestamp":"2024-04-02T11:25:27.4884404+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64d955873950ed6b70c11026f6e86a61","SpanId":"018e161978d92016","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Name]\r\nFROM [UserRoleMaster] AS [u]\r\nINNER JOIN [RoleMaster] AS [r] ON [u].[RoleId] = [r].[Id]\r\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"61e942b2-a468-4cf8-b373-77bf8c450c8e","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.RefreshTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000003c-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/refresh-token"}}
{"Timestamp":"2024-04-02T11:25:27.5560948+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64d955873950ed6b70c11026f6e86a61","SpanId":"018e161978d92016","Properties":{"elapsed":"52","parameters":"@p5='?' (DbType = Int64), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p11='?' (DbType = Int64), @p6='?' (Size = 450), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p17='?' (DbType = Int64), @p12='?' (Size = 450), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p23='?' (DbType = Int64), @p18='?' (Size = 450), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p29='?' (DbType = Int64), @p24='?' (Size = 450), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p35='?' (DbType = Int64), @p30='?' (Size = 450), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 4000), @p41='?' (DbType = Int64), @p36='?' (Size = 450), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = DateTime2), @p40='?' (Size = 4000), @p47='?' (DbType = Int64), @p42='?' (Size = 450), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = DateTime2), @p46='?' (Size = 4000), @p53='?' (DbType = Int64), @p48='?' (Size = 450), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = DateTime2), @p52='?' (Size = 4000), @p59='?' (DbType = Int64), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (Size = 4000), @p60='?' (Size = 450), @p61='?' (DbType = DateTime2), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime2), @p64='?' (Size = 4000), @p81='?' (Size = 450), @p65='?' (DbType = Int32), @p66='?' (Size = 4000), @p82='?' (Size = 4000), @p67='?' (Size = 256), @p68='?' (DbType = Boolean), @p69='?' (Size = 50), @p70='?' (Size = 50), @p71='?' (DbType = Boolean), @p72='?' (DbType = DateTimeOffset), @p73='?' (Size = 256), @p74='?' (Size = 256), @p75='?' (Size = 4000), @p76='?' (Size = 4000), @p77='?' (DbType = Boolean), @p78='?' (Size = 4000), @p79='?' (DbType = Boolean), @p80='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p0, [CreatedOn] = @p1, [ExpiresOn] = @p2, [RevokedOn] = @p3, [Token] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p6, [CreatedOn] = @p7, [ExpiresOn] = @p8, [RevokedOn] = @p9, [Token] = @p10\r\nOUTPUT 1\r\nWHERE [Id] = @p11;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p12, [CreatedOn] = @p13, [ExpiresOn] = @p14, [RevokedOn] = @p15, [Token] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p18, [CreatedOn] = @p19, [ExpiresOn] = @p20, [RevokedOn] = @p21, [Token] = @p22\r\nOUTPUT 1\r\nWHERE [Id] = @p23;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p24, [CreatedOn] = @p25, [ExpiresOn] = @p26, [RevokedOn] = @p27, [Token] = @p28\r\nOUTPUT 1\r\nWHERE [Id] = @p29;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p30, [CreatedOn] = @p31, [ExpiresOn] = @p32, [RevokedOn] = @p33, [Token] = @p34\r\nOUTPUT 1\r\nWHERE [Id] = @p35;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p36, [CreatedOn] = @p37, [ExpiresOn] = @p38, [RevokedOn] = @p39, [Token] = @p40\r\nOUTPUT 1\r\nWHERE [Id] = @p41;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p42, [CreatedOn] = @p43, [ExpiresOn] = @p44, [RevokedOn] = @p45, [Token] = @p46\r\nOUTPUT 1\r\nWHERE [Id] = @p47;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p48, [CreatedOn] = @p49, [ExpiresOn] = @p50, [RevokedOn] = @p51, [Token] = @p52\r\nOUTPUT 1\r\nWHERE [Id] = @p53;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p54, [CreatedOn] = @p55, [ExpiresOn] = @p56, [RevokedOn] = @p57, [Token] = @p58\r\nOUTPUT 1\r\nWHERE [Id] = @p59;\r\nINSERT INTO [RefreshToken] ([AppUserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p60, @p61, @p62, @p63, @p64);\r\nUPDATE [UserMaster] SET [AccessFailedCount] = @p65, [ConcurrencyStamp] = @p66, [Email] = @p67, [EmailConfirmed] = @p68, [FirstName] = @p69, [LastName] = @p70, [LockoutEnabled] = @p71, [LockoutEnd] = @p72, [NormalizedEmail] = @p73, [NormalizedUserName] = @p74, [PasswordHash] = @p75, [PhoneNumber] = @p76, [PhoneNumberConfirmed] = @p77, [SecurityStamp] = @p78, [TwoFactorEnabled] = @p79, [UserName] = @p80\r\nOUTPUT 1\r\nWHERE [Id] = @p81 AND [ConcurrencyStamp] = @p82;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"61e942b2-a468-4cf8-b373-77bf8c450c8e","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.RefreshTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000003c-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/refresh-token"}}
{"Timestamp":"2024-04-02T11:25:27.5598598+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"64d955873950ed6b70c11026f6e86a61","SpanId":"018e161978d92016","Properties":{"RequestMethod":"POST","RequestPath":"/api/identity/auth/refresh-token","StatusCode":200,"Elapsed":213.2258,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"213.2258"}]}}
{"Timestamp":"2024-04-02T11:25:30.4992249+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e0e6162dd5e9b5635290db254bee509","SpanId":"f66dc4d8097e9892","Properties":{"elapsed":"3","parameters":"@__token_0='?' (Size = 4000)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r0].[Id], [r0].[AppUserId], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\r\nFROM (\r\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE EXISTS (\r\n        SELECT 1\r\n        FROM [RefreshToken] AS [r]\r\n        WHERE [u].[Id] = [r].[AppUserId] AND [r].[Token] = @__token_0)\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r0] ON [t].[Id] = [r0].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"61e942b2-a468-4cf8-b373-77bf8c450c8e","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AuthController.RefreshTokenAsync (Kemet.ERP.Presentation)","RequestId":"8000003e-0002-fc00-b63f-84710c7967bb","RequestPath":"/api/identity/auth/refresh-token"}}
{"Timestamp":"2024-04-02T11:25:30.5085131+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e0e6162dd5e9b5635290db254bee509","SpanId":"f66dc4d8097e9892","Properties":{"RequestMethod":"POST","RequestPath":"/api/identity/auth/refresh-token","StatusCode":400,"Elapsed":15.6393,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.6393"}]}}
