{"Timestamp":"2024-04-17T00:47:07.1835150+02:00","Level":"Information","MessageTemplate":"Starting web host"}
{"Timestamp":"2024-04-17T00:47:08.7014592+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-17T00:47:08.7224933+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-17T00:47:08.7237195+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-17T00:47:20.7716347+02:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e57fc9d0bbdb8ebcda3b6c48a35d2b0","SpanId":"e00647da22aff8e4","Exception":"System.Exception: Failed to send email to 'info.cyberkemet@gmail.com': Failure sending mail.\r\n ---> System.Net.Mail.SmtpException: Failure sending mail.\r\n ---> System.ObjectDisposedException: Cannot access a closed file.\r\n   at System.IO.FileStream.Read(Byte[] buffer, Int32 offset, Int32 count)\r\n   at System.Net.Mime.MimePart.Send(BaseWriter writer, Boolean allowUnicode)\r\n   at System.Net.Mime.MimeMultiPart.Send(BaseWriter writer, Boolean allowUnicode)\r\n   at System.Net.Mail.SmtpClient.Send(MailMessage message)\r\n   --- End of inner exception stack trace ---\r\n   at System.Net.Mail.SmtpClient.Send(MailMessage message)\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.SEND_EMAIL(String[] recipientEmails, String[] ccEmails, String subject, String body, Boolean isBodyHtml, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 115\r\n   --- End of inner exception stack trace ---\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.SEND_EMAIL(String[] recipientEmails, String[] ccEmails, String subject, String body, Boolean isBodyHtml, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 122\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.Send(String recipient, String subject, String body, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 35\r\n   at Kemet.ERP.Presentation.Controllers.Common.CountriesController.SendEmail(String recipientEmail, String subject, String body) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Presentation\\Controllers\\Common\\CountriesController.cs:line 20\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Kemet.ERP.Api.Startup.<>c.<<UsePipilines>b__5_0>d.MoveNext() in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api\\Startup.cs:line 284\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/common/countries/send","StatusCode":500,"Elapsed":4048.8024,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4048.8024"}]}}
{"Timestamp":"2024-04-17T00:47:20.9577422+02:00","Level":"Error","MessageTemplate":"Failed to send email to 'info.cyberkemet@gmail.com': Failure sending mail.","TraceId":"6e57fc9d0bbdb8ebcda3b6c48a35d2b0","SpanId":"e00647da22aff8e4","Exception":"System.Exception: Failed to send email to 'info.cyberkemet@gmail.com': Failure sending mail.\r\n ---> System.Net.Mail.SmtpException: Failure sending mail.\r\n ---> System.ObjectDisposedException: Cannot access a closed file.\r\n   at System.IO.FileStream.Read(Byte[] buffer, Int32 offset, Int32 count)\r\n   at System.Net.Mime.MimePart.Send(BaseWriter writer, Boolean allowUnicode)\r\n   at System.Net.Mime.MimeMultiPart.Send(BaseWriter writer, Boolean allowUnicode)\r\n   at System.Net.Mail.SmtpClient.Send(MailMessage message)\r\n   --- End of inner exception stack trace ---\r\n   at System.Net.Mail.SmtpClient.Send(MailMessage message)\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.SEND_EMAIL(String[] recipientEmails, String[] ccEmails, String subject, String body, Boolean isBodyHtml, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 115\r\n   --- End of inner exception stack trace ---\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.SEND_EMAIL(String[] recipientEmails, String[] ccEmails, String subject, String body, Boolean isBodyHtml, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 122\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.Send(String recipient, String subject, String body, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 35\r\n   at Kemet.ERP.Presentation.Controllers.Common.CountriesController.SendEmail(String recipientEmail, String subject, String body) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Presentation\\Controllers\\Common\\CountriesController.cs:line 20\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Kemet.ERP.Api.Startup.<>c.<<UsePipilines>b__5_0>d.MoveNext() in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api\\Startup.cs:line 284\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Kemet.ERP.Api.Middleware.RequestHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api\\Middleware\\RequestHandlingMiddleware.cs:line 30\r\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Kemet.ERP.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api\\Middleware\\ExceptionHandlingMiddleware.cs:line 14"}
{"Timestamp":"2024-04-17T00:47:44.7778055+02:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8fb52353d672c993f4248e46318ad350","SpanId":"10628182897a154b","Exception":"System.Exception: Failed to send email to 'info.cyberkemet@gmail.com': Failure sending mail.\r\n ---> System.Net.Mail.SmtpException: Failure sending mail.\r\n ---> System.ObjectDisposedException: Cannot access a closed file.\r\n   at System.IO.FileStream.Read(Byte[] buffer, Int32 offset, Int32 count)\r\n   at System.Net.Mime.MimePart.Send(BaseWriter writer, Boolean allowUnicode)\r\n   at System.Net.Mime.MimeMultiPart.Send(BaseWriter writer, Boolean allowUnicode)\r\n   at System.Net.Mail.SmtpClient.Send(MailMessage message)\r\n   --- End of inner exception stack trace ---\r\n   at System.Net.Mail.SmtpClient.Send(MailMessage message)\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.SEND_EMAIL(String[] recipientEmails, String[] ccEmails, String subject, String body, Boolean isBodyHtml, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 115\r\n   --- End of inner exception stack trace ---\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.SEND_EMAIL(String[] recipientEmails, String[] ccEmails, String subject, String body, Boolean isBodyHtml, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 122\r\n   at Kemet.ERP.Shared.Utilities.EmailHelper.Send(String recipient, String subject, String body, String[] attachments) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Shared\\Utilities\\EmailHelper.cs:line 35\r\n   at Kemet.ERP.Presentation.Controllers.Common.CountriesController.SendEmail(String recipientEmail, String subject, String body) in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Presentation\\Controllers\\Common\\CountriesController.cs:line 20\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Kemet.ERP.Api.Startup.<>c.<<UsePipilines>b__5_0>d.MoveNext() in C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api\\Startup.cs:line 284\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/common/countries/send","StatusCode":500,"Elapsed":5506.726,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5506.7260"}]}}
