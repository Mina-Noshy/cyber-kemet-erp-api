{"Timestamp":"2024-03-26T14:41:11.1187562+02:00","Level":"Information","MessageTemplate":"Starting web host"}
{"Timestamp":"2024-03-26T14:41:16.9394434+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-03-26T14:41:16.9468061+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-03-26T14:41:16.9487637+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Projects\\Web\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-03-26T14:41:27.6284107+02:00","Level":"Warning","MessageTemplate":"Invalid api-key value, Please add it and try again","TraceId":"778e98919a501b4bbf212e38f462c502","SpanId":"f9857937b2c1fe8e"}
{"Timestamp":"2024-03-26T14:41:27.6534457+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"778e98919a501b4bbf212e38f462c502","SpanId":"f9857937b2c1fe8e","Properties":{"RequestMethod":"POST","RequestPath":"/api/hr/auth/get-token","StatusCode":401,"Elapsed":609.3899,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"609.3899"}]}}
{"Timestamp":"2024-03-26T14:42:02.3783196+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd666952541bafbf147e13055bd7035","SpanId":"0d5eb6b74dfd245c","Properties":{"elapsed":"131","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27291e15-45a4-4255-94e0-783295c253ad","ActionName":"Kemet.ERP.Presentation.Controllers.HR.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"80000004-0003-fb00-b63f-84710c7967bb","RequestPath":"/api/hr/auth/get-token"}}
{"Timestamp":"2024-03-26T14:42:02.7236267+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd666952541bafbf147e13055bd7035","SpanId":"0d5eb6b74dfd245c","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [r].[Name]\r\nFROM [UserRoleMaster] AS [u]\r\nINNER JOIN [RoleMaster] AS [r] ON [u].[RoleId] = [r].[Id]\r\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27291e15-45a4-4255-94e0-783295c253ad","ActionName":"Kemet.ERP.Presentation.Controllers.HR.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"80000004-0003-fb00-b63f-84710c7967bb","RequestPath":"/api/hr/auth/get-token"}}
{"Timestamp":"2024-03-26T14:42:03.5515096+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd666952541bafbf147e13055bd7035","SpanId":"0d5eb6b74dfd245c","Properties":{"elapsed":"107","parameters":"@p5='?' (DbType = Int64), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p11='?' (DbType = Int64), @p6='?' (Size = 450), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p17='?' (DbType = Int64), @p12='?' (Size = 450), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p23='?' (DbType = Int64), @p18='?' (Size = 450), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p29='?' (DbType = Int64), @p24='?' (Size = 450), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p35='?' (DbType = Int64), @p30='?' (Size = 450), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (Size = 4000), @p41='?' (DbType = Int64), @p36='?' (Size = 450), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = DateTime2), @p40='?' (Size = 4000), @p47='?' (DbType = Int64), @p42='?' (Size = 450), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = DateTime2), @p46='?' (Size = 4000), @p53='?' (DbType = Int64), @p48='?' (Size = 450), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = DateTime2), @p52='?' (Size = 4000), @p59='?' (DbType = Int64), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (Size = 4000), @p65='?' (DbType = Int64), @p60='?' (Size = 450), @p61='?' (DbType = DateTime2), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime2), @p64='?' (Size = 4000), @p71='?' (DbType = Int64), @p66='?' (Size = 450), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = DateTime2), @p70='?' (Size = 4000), @p77='?' (DbType = Int64), @p72='?' (Size = 450), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = DateTime2), @p76='?' (Size = 4000), @p83='?' (DbType = Int64), @p78='?' (Size = 450), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (DbType = DateTime2), @p82='?' (Size = 4000), @p89='?' (DbType = Int64), @p84='?' (Size = 450), @p85='?' (DbType = DateTime2), @p86='?' (DbType = DateTime2), @p87='?' (DbType = DateTime2), @p88='?' (Size = 4000), @p95='?' (DbType = Int64), @p90='?' (Size = 450), @p91='?' (DbType = DateTime2), @p92='?' (DbType = DateTime2), @p93='?' (DbType = DateTime2), @p94='?' (Size = 4000), @p101='?' (DbType = Int64), @p96='?' (Size = 450), @p97='?' (DbType = DateTime2), @p98='?' (DbType = DateTime2), @p99='?' (DbType = DateTime2), @p100='?' (Size = 4000), @p107='?' (DbType = Int64), @p102='?' (Size = 450), @p103='?' (DbType = DateTime2), @p104='?' (DbType = DateTime2), @p105='?' (DbType = DateTime2), @p106='?' (Size = 4000), @p113='?' (DbType = Int64), @p108='?' (Size = 450), @p109='?' (DbType = DateTime2), @p110='?' (DbType = DateTime2), @p111='?' (DbType = DateTime2), @p112='?' (Size = 4000), @p119='?' (DbType = Int64), @p114='?' (Size = 450), @p115='?' (DbType = DateTime2), @p116='?' (DbType = DateTime2), @p117='?' (DbType = DateTime2), @p118='?' (Size = 4000), @p125='?' (DbType = Int64), @p120='?' (Size = 450), @p121='?' (DbType = DateTime2), @p122='?' (DbType = DateTime2), @p123='?' (DbType = DateTime2), @p124='?' (Size = 4000), @p131='?' (DbType = Int64), @p126='?' (Size = 450), @p127='?' (DbType = DateTime2), @p128='?' (DbType = DateTime2), @p129='?' (DbType = DateTime2), @p130='?' (Size = 4000), @p132='?' (Size = 450), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (DbType = DateTime2), @p136='?' (Size = 4000), @p153='?' (Size = 450), @p137='?' (DbType = Int32), @p138='?' (Size = 4000), @p154='?' (Size = 4000), @p139='?' (Size = 256), @p140='?' (DbType = Boolean), @p141='?' (Size = 50), @p142='?' (Size = 50), @p143='?' (DbType = Boolean), @p144='?' (DbType = DateTimeOffset), @p145='?' (Size = 256), @p146='?' (Size = 256), @p147='?' (Size = 4000), @p148='?' (Size = 4000), @p149='?' (DbType = Boolean), @p150='?' (Size = 4000), @p151='?' (DbType = Boolean), @p152='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p0, [CreatedOn] = @p1, [ExpiresOn] = @p2, [RevokedOn] = @p3, [Token] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p6, [CreatedOn] = @p7, [ExpiresOn] = @p8, [RevokedOn] = @p9, [Token] = @p10\r\nOUTPUT 1\r\nWHERE [Id] = @p11;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p12, [CreatedOn] = @p13, [ExpiresOn] = @p14, [RevokedOn] = @p15, [Token] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p18, [CreatedOn] = @p19, [ExpiresOn] = @p20, [RevokedOn] = @p21, [Token] = @p22\r\nOUTPUT 1\r\nWHERE [Id] = @p23;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p24, [CreatedOn] = @p25, [ExpiresOn] = @p26, [RevokedOn] = @p27, [Token] = @p28\r\nOUTPUT 1\r\nWHERE [Id] = @p29;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p30, [CreatedOn] = @p31, [ExpiresOn] = @p32, [RevokedOn] = @p33, [Token] = @p34\r\nOUTPUT 1\r\nWHERE [Id] = @p35;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p36, [CreatedOn] = @p37, [ExpiresOn] = @p38, [RevokedOn] = @p39, [Token] = @p40\r\nOUTPUT 1\r\nWHERE [Id] = @p41;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p42, [CreatedOn] = @p43, [ExpiresOn] = @p44, [RevokedOn] = @p45, [Token] = @p46\r\nOUTPUT 1\r\nWHERE [Id] = @p47;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p48, [CreatedOn] = @p49, [ExpiresOn] = @p50, [RevokedOn] = @p51, [Token] = @p52\r\nOUTPUT 1\r\nWHERE [Id] = @p53;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p54, [CreatedOn] = @p55, [ExpiresOn] = @p56, [RevokedOn] = @p57, [Token] = @p58\r\nOUTPUT 1\r\nWHERE [Id] = @p59;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p60, [CreatedOn] = @p61, [ExpiresOn] = @p62, [RevokedOn] = @p63, [Token] = @p64\r\nOUTPUT 1\r\nWHERE [Id] = @p65;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p66, [CreatedOn] = @p67, [ExpiresOn] = @p68, [RevokedOn] = @p69, [Token] = @p70\r\nOUTPUT 1\r\nWHERE [Id] = @p71;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p72, [CreatedOn] = @p73, [ExpiresOn] = @p74, [RevokedOn] = @p75, [Token] = @p76\r\nOUTPUT 1\r\nWHERE [Id] = @p77;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p78, [CreatedOn] = @p79, [ExpiresOn] = @p80, [RevokedOn] = @p81, [Token] = @p82\r\nOUTPUT 1\r\nWHERE [Id] = @p83;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p84, [CreatedOn] = @p85, [ExpiresOn] = @p86, [RevokedOn] = @p87, [Token] = @p88\r\nOUTPUT 1\r\nWHERE [Id] = @p89;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p90, [CreatedOn] = @p91, [ExpiresOn] = @p92, [RevokedOn] = @p93, [Token] = @p94\r\nOUTPUT 1\r\nWHERE [Id] = @p95;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p96, [CreatedOn] = @p97, [ExpiresOn] = @p98, [RevokedOn] = @p99, [Token] = @p100\r\nOUTPUT 1\r\nWHERE [Id] = @p101;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p102, [CreatedOn] = @p103, [ExpiresOn] = @p104, [RevokedOn] = @p105, [Token] = @p106\r\nOUTPUT 1\r\nWHERE [Id] = @p107;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p108, [CreatedOn] = @p109, [ExpiresOn] = @p110, [RevokedOn] = @p111, [Token] = @p112\r\nOUTPUT 1\r\nWHERE [Id] = @p113;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p114, [CreatedOn] = @p115, [ExpiresOn] = @p116, [RevokedOn] = @p117, [Token] = @p118\r\nOUTPUT 1\r\nWHERE [Id] = @p119;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p120, [CreatedOn] = @p121, [ExpiresOn] = @p122, [RevokedOn] = @p123, [Token] = @p124\r\nOUTPUT 1\r\nWHERE [Id] = @p125;\r\nUPDATE [RefreshToken] SET [AppUserId] = @p126, [CreatedOn] = @p127, [ExpiresOn] = @p128, [RevokedOn] = @p129, [Token] = @p130\r\nOUTPUT 1\r\nWHERE [Id] = @p131;\r\nINSERT INTO [RefreshToken] ([AppUserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p132, @p133, @p134, @p135, @p136);\r\nUPDATE [UserMaster] SET [AccessFailedCount] = @p137, [ConcurrencyStamp] = @p138, [Email] = @p139, [EmailConfirmed] = @p140, [FirstName] = @p141, [LastName] = @p142, [LockoutEnabled] = @p143, [LockoutEnd] = @p144, [NormalizedEmail] = @p145, [NormalizedUserName] = @p146, [PasswordHash] = @p147, [PhoneNumber] = @p148, [PhoneNumberConfirmed] = @p149, [SecurityStamp] = @p150, [TwoFactorEnabled] = @p151, [UserName] = @p152\r\nOUTPUT 1\r\nWHERE [Id] = @p153 AND [ConcurrencyStamp] = @p154;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27291e15-45a4-4255-94e0-783295c253ad","ActionName":"Kemet.ERP.Presentation.Controllers.HR.AuthController.GetTokenAsync (Kemet.ERP.Presentation)","RequestId":"80000004-0003-fb00-b63f-84710c7967bb","RequestPath":"/api/hr/auth/get-token"}}
{"Timestamp":"2024-03-26T14:42:03.6542348+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8cd666952541bafbf147e13055bd7035","SpanId":"0d5eb6b74dfd245c","Properties":{"RequestMethod":"POST","RequestPath":"/api/hr/auth/get-token","StatusCode":200,"Elapsed":6940.0835,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6940.0835"}]}}
{"Timestamp":"2024-03-26T14:42:25.8797679+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b02d2692e7f45dfc4882764e0caac44","SpanId":"362f1590fd1301f3","Properties":{"RequestMethod":"POST","RequestPath":"/api/hr/countries/get-all","StatusCode":302,"Elapsed":24.73,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7300"}]}}
{"Timestamp":"2024-03-26T14:42:25.8918686+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a68b5adc829b7f21592446162df278e7","SpanId":"2a468b80b0a3dae3","Properties":{"RequestMethod":"GET","RequestPath":"/Account/Login","StatusCode":404,"Elapsed":4.9519,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4.9519"}]}}
{"Timestamp":"2024-03-26T14:42:43.4125083+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2c7496e6450ef5106414ab571249539","SpanId":"ec7780205834e5ad","Properties":{"RequestMethod":"POST","RequestPath":"/api/hr/countries/get-all","StatusCode":302,"Elapsed":5.6928,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5.6928"}]}}
{"Timestamp":"2024-03-26T14:42:43.4214120+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"432aedbce7fce2ce26b7d75b158e3ed7","SpanId":"25a3b5eb2c43ead7","Properties":{"RequestMethod":"GET","RequestPath":"/Account/Login","StatusCode":404,"Elapsed":0.2393,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.2393"}]}}
{"Timestamp":"2024-03-26T14:42:45.6914622+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"003ca77e225fb51066dbe2bbdc42117b","SpanId":"a16395428e74c9f5","Properties":{"RequestMethod":"POST","RequestPath":"/api/hr/countries/get-all","StatusCode":302,"Elapsed":3.0113,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.0113"}]}}
{"Timestamp":"2024-03-26T14:42:45.7020502+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5100010fa69dd52e3e63928e3f2150f4","SpanId":"43cf1fd7388aaa98","Properties":{"RequestMethod":"GET","RequestPath":"/Account/Login","StatusCode":404,"Elapsed":0.1931,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"0.1931"}]}}
