{"Timestamp":"2024-04-27T13:45:16.3845157+03:00","Level":"Information","MessageTemplate":"Starting web host"}
{"Timestamp":"2024-04-27T13:45:18.3572995+03:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-27T13:45:18.3652355+03:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-27T13:45:18.3661976+03:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Projects\\Cyber Kemet\\cyber-kemet-erp-api\\Kemet.ERP\\Kemet.ERP.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-04-27T13:48:02.8287008+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2961acd092978e925d96ffec4331dd6","SpanId":"cb7e44e46dc938d3","Properties":{"elapsed":"440","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac543b7e-f3bd-4ea6-8521-f90d64045268","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.CreateUserAsync (Kemet.ERP.Presentation)","RequestId":"8000000e-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/create-user"}}
{"Timestamp":"2024-04-27T13:48:03.3116376+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2961acd092978e925d96ffec4331dd6","SpanId":"cb7e44e46dc938d3","Properties":{"elapsed":"293","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac543b7e-f3bd-4ea6-8521-f90d64045268","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.CreateUserAsync (Kemet.ERP.Presentation)","RequestId":"8000000e-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/create-user"}}
{"Timestamp":"2024-04-27T13:48:04.4340311+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2961acd092978e925d96ffec4331dd6","SpanId":"cb7e44e46dc938d3","Properties":{"elapsed":"394","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [UserMaster] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac543b7e-f3bd-4ea6-8521-f90d64045268","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.CreateUserAsync (Kemet.ERP.Presentation)","RequestId":"8000000e-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/create-user"}}
{"Timestamp":"2024-04-27T13:48:04.8191405+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2961acd092978e925d96ffec4331dd6","SpanId":"cb7e44e46dc938d3","Properties":{"elapsed":"316","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac543b7e-f3bd-4ea6-8521-f90d64045268","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.CreateUserAsync (Kemet.ERP.Presentation)","RequestId":"8000000e-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/create-user"}}
{"Timestamp":"2024-04-27T13:48:08.0030883+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2961acd092978e925d96ffec4331dd6","SpanId":"cb7e44e46dc938d3","Properties":{"RequestMethod":"POST","RequestPath":"/api/identity/accounts/create-user","StatusCode":200,"Elapsed":13889.3576,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13889.3576"}]}}
{"Timestamp":"2024-04-27T13:48:37.7131339+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85b2975be845ef989a76b827c105baf0","SpanId":"75bc464dfec6a7a1","Properties":{"elapsed":"365","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[Id] = @__p_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e94fce6-6308-4525-8861-b608011e8757","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.ConfirmEmailAsync (Kemet.ERP.Presentation)","RequestId":"80000002-0003-fe00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/confirm-email"}}
{"Timestamp":"2024-04-27T13:48:38.1222583+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85b2975be845ef989a76b827c105baf0","SpanId":"75bc464dfec6a7a1","Properties":{"elapsed":"338","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedUserName] = @__normalizedUserName_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e94fce6-6308-4525-8861-b608011e8757","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.ConfirmEmailAsync (Kemet.ERP.Presentation)","RequestId":"80000002-0003-fe00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/confirm-email"}}
{"Timestamp":"2024-04-27T13:48:38.4305346+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85b2975be845ef989a76b827c105baf0","SpanId":"75bc464dfec6a7a1","Properties":{"elapsed":"306","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [r].[Id], [r].[AppUserId], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\r\nFROM (\r\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]\r\n    FROM [UserMaster] AS [u]\r\n    WHERE [u].[NormalizedEmail] = @__normalizedEmail_0\r\n) AS [t]\r\nLEFT JOIN [RefreshToken] AS [r] ON [t].[Id] = [r].[AppUserId]\r\nORDER BY [t].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e94fce6-6308-4525-8861-b608011e8757","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.ConfirmEmailAsync (Kemet.ERP.Presentation)","RequestId":"80000002-0003-fe00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/confirm-email"}}
{"Timestamp":"2024-04-27T13:48:38.8392970+03:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85b2975be845ef989a76b827c105baf0","SpanId":"75bc464dfec6a7a1","Properties":{"elapsed":"376","parameters":"@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)","commandType":"Text","commandTimeout":600,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [UserMaster] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15\r\nOUTPUT 1\r\nWHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e94fce6-6308-4525-8861-b608011e8757","ActionName":"Kemet.ERP.Presentation.Controllers.Identity.AccountsController.ConfirmEmailAsync (Kemet.ERP.Presentation)","RequestId":"80000002-0003-fe00-b63f-84710c7967bb","RequestPath":"/api/identity/accounts/confirm-email"}}
{"Timestamp":"2024-04-27T13:48:38.8634238+03:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"85b2975be845ef989a76b827c105baf0","SpanId":"75bc464dfec6a7a1","Properties":{"RequestMethod":"GET","RequestPath":"/api/identity/accounts/confirm-email","StatusCode":200,"Elapsed":1653.8828,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1653.8828"}]}}
